<!DOCTYPE html>
<html>
<head>
<title>论 if __name__ == '__main__': - 写bug的代码人</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<link rel="icon" type="image/png" href="images/icon.ico">
<link rel="stylesheet" type="text/css" href="../css/all.css" />
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script src="../js/backTop.js"></script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
<!-- Header -->
<div class="header">
  <a href="../index.html"> <img src ="images/logo.jpg" width="120" height="60" alt="LOGO"> </a>
  <h3></h3>
  <h1>写bug的代码人的博客</h1>
  <h3></h3>  
  <h1>Bugcoder's Blog</h1>
</div>

<!-- 导航栏 -->
<div class="navbar">
  <a href="../index.html">博客主页</a>
  <a href="../friends.html">友情链接</a>
  <a href="../talk.html">留言板</a>
  <a href="../about.html">关于</a>
</div>

<!-- 弹性网格row（内容） -->
<div class="row">
  <div class="side">
  <strong>公告</strong>
      
<p>
1.站长在不借助任何框架下成功搭建了自己的Blog
</p>
<p>
2.若对此网站有相关建议或发现错误，希望可以联系站长，邮箱bugcoderx@qq.com
</p>
<p>3.本站新开通一个国内版网站</p>
 <p>
 4.站长正在努力updating博客和网站。。。
    </p>
  
  </div>
    
  <div class="main">
    <h2>论 if __name__ == '__main__':</h2>
     <p>
     之前学习Python时，总是见到if __name__ == '__main__':，但我一直不知道是什么意思。之后做了一些demo，没有if __name__ == '__main__':也能运行，就没有深究。今天闲来无事（既然无事就要让他有事），就研究了一下。
     </p>
     <p>
     <strong>注：</strong>因为我是学生党，所以用手机里的QPython OH代替Python运行环境。
     </p>
     <p>
     1. 新建aaa.py，输入如下代码
     </p>
     <div id="code">
     <pre><span style="color: rgba(0, 0, 255, 1)">def</span><span style="color: rgba(0, 0, 0, 1)"> myfunc():
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">b</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)

</span><span style="color: rgba(0, 0, 255, 1)">print</span>(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">a</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
myfunc()</span></pre>
     </div>
     <p>2. 之后我们新建bbb.py
     </p>
     <div id="code">
     <pre><span style="color: rgba(0, 0, 255, 1)">from</span> aaa <span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> myfunc

myfunc()
</span><span style="color: rgba(0, 0, 255, 1)">print</span>(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">c</span><span style="color: rgba(128, 0, 0, 1)">"</span>)</pre>
     </div>
     <p>你以为
     </p>
     <div id="code">
     <pre><span style="color: rgba(0, 0, 0, 1)">b
c

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)">[QPython] Press enter to exit ...</span></pre>
</div>
<p>
实际上运行后
</p>
    <div id="code">
    <pre><span style="color: rgba(0, 0, 0, 1)">a
b
c

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)">[QPython] Press enter to exit ...</span></pre>
    </div>
    <p>是不是很疑惑？明明我只调用了myfunc()，为什么连a也给我打印出来了？这才是if __name__ == '__main__'的真正意义。</p>
    <p>之后我们把aaa.py的内容改成</p>
    <div id="code">
    <pre><span style="color: rgba(0, 0, 255, 1)">def</span><span style="color: rgba(0, 0, 0, 1)"> myfunc():
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">b</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)

</span><span style="color: rgba(0, 0, 255, 1)">if</span> <span style="color: rgba(128, 0, 128, 1)">__name__</span> == <span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">__main__</span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(0, 0, 0, 1)">:
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">a</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    myfunc()</span></pre>
</div>
    <p>运行之后的结果还是
    </p>
    <div id="code">
    <pre><span style="color: rgba(0, 0, 0, 1)">a
b

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)">[QPython] Press enter to exit ...</span></pre>
</div>
<p>再运行bbb.py</p>
    <div id="code">
    <pre><span style="color: rgba(0, 0, 0, 1)">b
c

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)">[QPython] Press enter to exit ...</span></pre>
</div>
    <p>看，变成我们想要的了吧？根据结果我们可以看到，if __name__ == '__main__'下面的语句没有被运行。</p>
    <p><h3>
    总结：</h3><strong>__name__ 相当于模块的名字，'__main__'相当于本程序的名字。</strong>如果整个项目只有一个文件，那么if __name__ == '__main__'用不用都行。如果整个项目有两个及以上文件，那么就要把被引用文件中不希望在其他文件被使用的函数放在if __name__ == '__main__'下面。
    </p>
    
<p></p>    
<p>Posted 2022-08-09 09:57 写bug的代码人</p> 
<!--返回顶部按钮-->
<button onclick="topFunction()" id="BtnTop" title="回顶部">返回顶部</button>

<div id="gitalk-container"></div>
    <script>
    var gitalk = new Gitalk({
        clientID: '303bfc1b15c74584cfa4', //clientID 
        clientSecret: '64abb5f184ed4c137d1fd9931f8466242e3ba250', //clientSecret
        repo: 'gitalk-comments', // 评论仓库名
        owner: '1stbugcoder',
        admin: ['1stbugcoder'], //管理人
        id: 'article001', // 返回当前 URL 的路径部分作为id
        language:'zh-CN', //语言
        distractionFreeMode: false  // 无干扰模式
    })
    gitalk.render('gitalk-container')
    </script>
       
     
         
     
  </div><!-- 这里是main所对应的div -->
  
</div>

<!-- 页脚 -->
<div class="footer">
  <p>
    Copyright © 2022 写bug的代码人
    </p>
    <p>Powered By 写bug的代码人</p>
    <p>
    <span id="runtime_span"></span><script src="../js/time.js" type="text/javascript"></script>
    </p>
    
</div>

</body>
</html>